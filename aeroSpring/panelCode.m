%Panel code
clear
clc

%mesh size
% 12 panels for span, 10, 15, 20 panels for chord

%% 0 degree
% mesh 20
pressuredistribution1 = [
      -4.66634674E-06  0.664966166    ;
   8.91609304E-03  0.361990541    ;
   2.88998354E-02  -7.37983435E-02;
   6.10768534E-02 -0.353486478    ;
  0.105354339     -0.450062990    ;
  0.160045773     -0.499380231    ;
  0.223411322     -0.523333848    ;
  0.293655634     -0.533900082    ;
  0.368876547     -0.543866098    ;
  0.447084218     -0.551587820    ;
  0.526195467     -0.551654160    ;
  0.604010224     -0.508052766    ;
  0.678362906     -0.402745366    ;
  0.747429550     -0.273844063    ;
  0.809738636     -0.149704441    ;
  0.863992274      -3.24173123E-02;
  0.909019232       8.05969238E-02;
  0.944132686      0.186046362    ;
  0.970458567      0.340193987    ;
  0.990215898      0.257523268    ;
  0.990219295      0.213590831    ;
  0.970332980      0.287279099    ;
  0.943718910      0.250505418    ;
  0.908263266      0.246701658    ;
  0.862978697      0.198528841    ;
  0.808824301      0.124654420    ;
  0.747170269       2.57022660E-02;
  0.679360986      -8.99774134E-02;
  0.606784999     -0.213175505    ;
  0.530957878     -0.301049888    ;
  0.453782439     -0.326889545    ;
  0.377395362     -0.338674843    ;
  0.303807229     -0.355090559    ;
  0.234908089     -0.371184528    ;
  0.172482148     -0.379236013    ;
  0.118159719     -0.378172040    ;
   7.34105259E-02 -0.359223723    ;
   3.91410589E-02 -0.337281734    ;
   1.48263173E-02 -0.251201391    ;
   1.58589135E-03  0.418110430    ;
  -4.66634674E-06  0.664966166    ;
];
pressuredistribution2 = [
      -3.61428043E-04  0.658351243    ;
   8.41695908E-03  0.354144722    ;
   2.82584801E-02  -8.32092017E-02;
   6.03083000E-02 -0.362580538    ;
  0.104478024     -0.456446260    ;
  0.159080893     -0.502991319    ;
  0.222379074     -0.524917781    ;
  0.292579293     -0.533120811    ;
  0.367779911     -0.539868891    ;
  0.445993692     -0.543924153    ;
  0.525140762     -0.540543854    ;
  0.603025854     -0.494345158    ;
  0.677482426     -0.387400627    ;
  0.746673107     -0.258299202    ;
  0.809109509     -0.135557845    ;
  0.863481283      -2.08459981E-02;
  0.908608615       8.92124921E-02;
  0.943800986      0.192019090    ;
  0.970185757      0.341998875    ;
  0.989988625      0.263040364    ;
  0.990018785      0.227987975    ;
  0.970140040      0.295281738    ;
  0.943523049      0.258910775    ;
  0.908069670      0.255534053    ;
  0.862811804      0.209371537    ;
  0.808712602      0.138111860    ;
  0.747138023       4.17704061E-02;
  0.679421008      -7.18489438E-02;
  0.606933951     -0.193981022    ;
  0.531173170     -0.282606453    ;
  0.454032153     -0.310661703    ;
  0.377654910     -0.325302690    ;
  0.304057419     -0.344634622    ;
  0.235131055     -0.363094121    ;
  0.172661230     -0.373614579    ;
  0.118280664     -0.376425833    ;
   7.34622180E-02 -0.362634629    ;
   3.91159467E-02 -0.345868200    ;
   1.47145269E-02 -0.263650179    ;
   1.36234786E-03  0.408137113    ;
  -3.61428043E-04  0.658351243    ;
];
pressuredistribution3 = [
       6.40619779E-04  0.653791487    ;
   9.22972802E-03  0.377154410    ;
   2.88826302E-02  -5.00297956E-02;
   6.07597269E-02 -0.331741184    ;
  0.104777358     -0.429697663    ;
  0.159247339     -0.475665718    ;
  0.222436562     -0.495815396    ;
  0.292553067     -0.504147947    ;
  0.367698461     -0.511627913    ;
  0.445889443     -0.515773833    ;
  0.525050282     -0.512061417    ;
  0.602993906     -0.466939062    ;
  0.677553177     -0.362955213    ;
  0.746873617     -0.237513632    ;
  0.809445977     -0.117413610    ;
  0.863945901      -3.46231111E-03;
  0.909182549      0.107402302    ;
  0.944460273      0.211402372    ;
  0.970910311      0.362014323    ;
  0.990761518      0.280902207    ;
  0.990822971      0.256491572    ;
  0.970963478      0.319858521    ;
  0.944352865      0.277854174    ;
  0.908916056      0.269595534    ;
  0.863708854      0.219337568    ;
  0.809700549      0.145856887    ;
  0.748250604       4.94440794E-02;
  0.680677474      -6.34742975E-02;
  0.608332932     -0.185949907    ;
  0.532687128     -0.277241826    ;
  0.455621392     -0.308901191    ;
  0.379287720     -0.326774836    ;
  0.305708617     -0.349318057    ;
  0.236776024     -0.372761369    ;
  0.174276724     -0.392616481    ;
  0.119845480     -0.407374233    ;
   7.49587119E-02 -0.404545456    ;
   4.05307561E-02 -0.400462061    ;
   1.60317626E-02 -0.335933834    ;
   2.54130596E-03  0.359174222    ;
   6.40619779E-04  0.653791487  ;
];

figure(1)
plot(pressuredistribution1(:,1),-pressuredistribution1(:,2),'r');
hold on
plot(pressuredistribution2(:,1),-pressuredistribution2(:,2),'b');
hold on
plot(pressuredistribution3(:,1),-pressuredistribution3(:,2),'g');
title("0 degree");
xlabel("Chordwise")
ylabel("-Cp");
legend("Red","Yellow","Green")

%% degree8
% mesh 20
pressuredistribution4 = [
       1.18668319E-03 -0.126910403    ;
   1.26027670E-02 -0.917784095    ;
   3.51011641E-02  -1.40117753    ;
   6.95516765E-02  -1.44472659    ;
  0.115778916      -1.27832901    ;
  0.172097057      -1.14384758    ;
  0.236727089      -1.03346181    ;
  0.307844222     -0.943296432    ;
  0.383523524     -0.875572205    ;
  0.461729586     -0.818906546    ;
  0.540323973     -0.762344897    ;
  0.617013216     -0.660248160    ;
  0.689646065     -0.501899004    ;
  0.756637931     -0.331528574    ;
  0.816806197     -0.175430924    ;
  0.869071126      -3.29953618E-02;
  0.912405491       9.87886116E-02;
  0.946189046      0.219971165    ;
  0.971512675      0.391849637    ;
  0.990518868      0.342836529    ;
  0.990044415      0.145573705    ;
  0.969986677      0.261861891    ;
  0.943399847      0.255532324    ;
  0.907849491      0.262151092    ;
  0.862034500      0.227081016    ;
  0.806833923      0.169091731    ;
  0.743699670       9.30476636E-02;
  0.674184084       8.50206800E-03;
  0.599948764      -7.36694857E-02;
  0.522862554     -0.112476751    ;
  0.444982171      -9.72921550E-02;
  0.368319362      -6.89280257E-02;
  0.294795454      -3.68980058E-02;
  0.226280630       5.18693216E-03;
  0.164539665       6.76130876E-02;
  0.111161828      0.154922441    ;
   6.75684363E-02  0.278824121    ;
   3.45981680E-02  0.430550486    ;
   1.17727658E-02  0.611898839    ;
   4.63155127E-04  0.574489057    ;
   1.18668319E-03 -0.126910403  ;
];
pressuredistribution5 = [
       8.28506541E-04 -0.394901961    ;
   1.20999543E-02  -1.23415041    ;
   3.44539657E-02  -1.69194245    ;
   6.87753484E-02  -1.67206311    ;
  0.114892997      -1.44280005    ;
  0.171121150      -1.26516950    ;
  0.235682920      -1.12415147    ;
  0.306754619      -1.01004612    ;
  0.382413357     -0.922644019    ;
  0.460625589     -0.849735916    ;
  0.539256096     -0.780083120    ;
  0.616016626     -0.667148888    ;
  0.688755274     -0.500123978    ;
  0.755872786     -0.324322939    ;
  0.816170812     -0.165939271    ;
  0.868555188      -2.33364906E-02;
  0.911991715      0.107506007    ;
  0.945855439      0.227342606    ;
  0.971239150      0.396279812    ;
  0.990290761      0.348325610    ;
  0.989843726      0.163502052    ;
  0.969794452      0.273306906    ;
  0.943204284      0.265903980    ;
  0.907656610      0.272589773    ;
  0.861868739      0.239483312    ;
  0.806724429      0.184486642    ;
  0.743670940      0.112326637    ;
  0.674249232       3.26149762E-02;
  0.600104511      -4.39917073E-02;
  0.523085654      -7.84614012E-02;
  0.445240170      -6.04941547E-02;
  0.368587643      -2.91038621E-02;
  0.295054197       7.26696709E-03;
  0.226511672       5.54988943E-02;
  0.164726213      0.124928147    ;
  0.111289285      0.218783557    ;
   6.76252767E-02  0.346915126    ;
   3.45770642E-02  0.497956157    ;
   1.16635878E-02  0.651035070    ;
   2.40296373E-04  0.458205044    ;
   8.28506541E-04 -0.394901961   ;
];
pressuredistribution6 = [
       1.83517009E-03 -0.429403901    ;
   1.29150646E-02  -1.26102555    ;
   3.50784920E-02  -1.70793164    ;
   6.92257583E-02  -1.67802143    ;
  0.115188956      -1.43630493    ;
  0.171282113      -1.24388433    ;
  0.235732675      -1.09151721    ;
  0.306719780     -0.972271085    ;
  0.382322520     -0.882322073    ;
  0.460511774     -0.807285666    ;
  0.539156914     -0.736327350    ;
  0.615977764     -0.623916090    ;
  0.688820839     -0.459126085    ;
  0.756070852     -0.286842674    ;
  0.816508293     -0.132039770    ;
  0.869023621       8.38828739E-03;
  0.912571549      0.138855845    ;
  0.946523607      0.258648962    ;
  0.971972704      0.426938623    ;
  0.991075039      0.371018142    ;
  0.990660191      0.188019082    ;
  0.970631123      0.287424952    ;
  0.944046736      0.270043969    ;
  0.908516526      0.267112792    ;
  0.862779975      0.224878863    ;
  0.807727754      0.164426744    ;
  0.744801760       9.21105891E-02;
  0.675525844       1.50994789E-02;
  0.601525664      -5.95189109E-02;
  0.524623692      -9.48931426E-02;
  0.446854174      -7.86756650E-02;
  0.370245636      -4.75337207E-02;
  0.296730459      -1.02049047E-02;
  0.228180960       3.84281911E-02;
  0.166365013      0.106111683    ;
  0.112875827      0.198684365    ;
   6.91415444E-02  0.328471035    ;
   3.60092036E-02  0.482210249    ;
   1.29945949E-02  0.634595335    ;
   1.42738339E-03  0.429832757    ;
   1.83517009E-03 -0.429403901    ;
];



figure(2)
plot(pressuredistribution4(:,1),-pressuredistribution4(:,2),'r');
hold on
plot(pressuredistribution5(:,1),-pressuredistribution5(:,2),'b');
hold on
plot(pressuredistribution6(:,1),-pressuredistribution6(:,2),'g');
title("8 degree");
xlabel("Chordwise")
ylabel("-Cp");
legend("Red","Yellow","Green")

%% degree 12
%mesh 20

pressuredistribution7 = [   1.78398122E-03  -1.03347862    ;
   1.44771850E-02  -1.97309470    ;
   3.82626317E-02  -2.33916879    ;
   7.38769397E-02  -2.13610983    ;
  0.121102400      -1.76399028    ;
  0.178253263      -1.50004590    ;
  0.243530691      -1.30175543    ;
  0.315094620      -1.14931273    ;
  0.391008526      -1.03551769    ;
  0.469213605     -0.942088425    ;
  0.547543526     -0.854440033    ;
  0.623656750     -0.722187459    ;
  0.695409358     -0.538238883    ;
  0.761338949     -0.348697186    ;
  0.820411623     -0.178221688    ;
  0.871658444      -2.48757266E-02;
  0.914126158      0.114526831    ;
  0.947229385      0.241728634    ;
  0.972039759      0.420048952    ;
  0.990661263      0.389215708    ;
  0.989941597      0.121995509    ;
  0.969796896      0.258205354    ;
  0.943223894      0.266203761    ;
  0.907625198      0.277273953    ;
  0.861538649      0.248632163    ;
  0.805802524      0.198693484    ;
  0.741910636      0.134333238    ;
  0.671521366       6.54905736E-02;
  0.596436858       3.33913555E-03;
  0.518706262      -1.34637710E-02;
  0.440465003       1.79774910E-02;
  0.363661230       6.10149875E-02;
  0.290170252      0.109795235    ;
  0.221852183      0.170259744    ;
  0.160461947      0.251689941    ;
  0.107567735      0.356395870    ;
   6.45659938E-02  0.488319635    ;
   3.22607569E-02  0.621801078    ;
   1.01975659E-02  0.681775987    ;
  -1.23904392E-04  0.139790952    ;
   1.78398122E-03  -1.03347862 ];

pressuredistribution8 = [   1.42184249E-03  -1.61452067    ;
   1.39673641E-02  -2.58647418    ;
   3.76050659E-02  -2.86437726    ;
   7.30872899E-02  -2.52530503    ;
  0.120200537      -2.03563571    ;
  0.177259132      -1.69538391    ;
  0.242466509      -1.44466937    ;
  0.313983947      -1.25289559    ;
  0.389876634      -1.10837543    ;
  0.468087941     -0.990741253    ;
  0.546454489     -0.884226739    ;
  0.622640729     -0.736584365    ;
  0.694501340     -0.540533125    ;
  0.760559738     -0.343249828    ;
  0.819764376     -0.168850094    ;
  0.871133566      -1.40348589E-02;
  0.913706064      0.125432238    ;
  0.946890712      0.251858085    ;
  0.971763134      0.427602261    ;
  0.990430772      0.395715684    ;
  0.989739656      0.142998159    ;
  0.969603479      0.273124844    ;
  0.943026960      0.278727591    ;
  0.907431006      0.289413363    ;
  0.861372530      0.262452781    ;
  0.805693746      0.215402111    ;
  0.741885006      0.155227810    ;
  0.671591759       9.21365693E-02;
  0.596599877       3.71466465E-02;
  0.518938422       2.62689237E-02;
  0.440733075       6.17490336E-02;
  0.363939583      0.109105699    ;
  0.290438980      0.163482353    ;
  0.222092688      0.230867207    ;
  0.160657018      0.318754584    ;
  0.107702546      0.426753193    ;
   6.46286458E-02  0.552846432    ;
   3.22436839E-02  0.659474790    ;
   1.00902636E-02  0.620170951    ;
  -3.47515946E-04 -0.213515222    ;
   1.42184249E-03  -1.61452067   ];

pressuredistribution9 = [   2.43799156E-03  -1.72299528    ;
   1.47884507E-02  -2.67845130    ;
   3.82313654E-02  -2.92842984    ;
   7.35361427E-02  -2.56069469    ;
  0.120491318      -2.04286098    ;
  0.177412018      -1.67678130    ;
  0.242505953      -1.40829515    ;
  0.313937187      -1.20835030    ;
  0.389773160      -1.05960274    ;
  0.467961192     -0.938883483    ;
  0.546343625     -0.830868840    ;
  0.622591734     -0.683936059    ;
  0.694560170     -0.490541667    ;
  0.760755062     -0.297633469    ;
  0.820102692     -0.127941549    ;
  0.871606529       2.40043364E-02;
  0.914293587      0.163137645    ;
  0.947568595      0.289718390    ;
  0.972508550      0.464750290    ;
  0.991227567      0.422360331    ;
  0.990571380      0.168022707    ;
  0.970454872      0.284223557    ;
  0.943885207      0.277109057    ;
  0.908305943      0.275680959    ;
  0.862300336      0.236559823    ;
  0.806715667      0.181747600    ;
  0.743036330      0.120703764    ;
  0.672892272       6.08953908E-02;
  0.598048210       8.79301503E-03;
  0.520505548      -2.45756074E-03;
  0.442377657       3.19018438E-02;
  0.365628868       8.00637230E-02;
  0.292146295      0.136637107    ;
  0.223792449      0.205720693    ;
  0.162324369      0.293405056    ;
  0.109315328      0.401661426    ;
   6.61688447E-02  0.529306293    ;
   3.36974002E-02  0.634257257    ;
   1.14394631E-02  0.578603625    ;
   8.52942409E-04 -0.301048636    ;
   2.43799156E-03  -1.72299528 ];


figure(3)
plot(pressuredistribution7(:,1),-pressuredistribution7(:,2),'r');
hold on
plot(pressuredistribution8(:,1),-pressuredistribution8(:,2),'b');
hold on
plot(pressuredistribution9(:,1),-pressuredistribution9(:,2),'g');
title("12 degree");
xlabel("Chordwise")
ylabel("-Cp");
legend("Red","Yellow","Green")
%% cl calculation
for i = 1:20
    dx1Lower(i) = pressuredistribution1(i+1,1)-pressuredistribution1(i,1);
    dx2Lower(i) = pressuredistribution2(i+1,1)-pressuredistribution2(i,1);
    dx3Lower(i) = pressuredistribution3(i+1,1)-pressuredistribution3(i,1);
    dx4Lower(i) = pressuredistribution4(i+1,1)-pressuredistribution4(i,1);
    dx5Lower(i) = pressuredistribution5(i+1,1)-pressuredistribution5(i,1);
    dx6Lower(i) = pressuredistribution6(i+1,1)-pressuredistribution6(i,1);
    dx7Lower(i) = pressuredistribution7(i+1,1)-pressuredistribution7(i,1);
    dx8Lower(i) = pressuredistribution8(i+1,1)-pressuredistribution8(i,1);
    dx9Lower(i) = pressuredistribution9(i+1,1)-pressuredistribution9(i,1);
end

for j = 21:40
    dx1Upper(j-20) = pressuredistribution1(j,1)-pressuredistribution1(j+1,1);  
    dx2Upper(j-20) = pressuredistribution2(j,1)-pressuredistribution2(j+1,1);  
    dx3Upper(j-20) = pressuredistribution3(j,1)-pressuredistribution3(j+1,1);  
    dx4Upper(j-20) = pressuredistribution4(j,1)-pressuredistribution4(j+1,1);  
    dx5Upper(j-20) = pressuredistribution5(j,1)-pressuredistribution5(j+1,1);  
    dx6Upper(j-20) = pressuredistribution6(j,1)-pressuredistribution6(j+1,1);  
    dx7Upper(j-20) = pressuredistribution7(j,1)-pressuredistribution7(j+1,1);  
    dx8Upper(j-20) = pressuredistribution8(j,1)-pressuredistribution8(j+1,1);  
    dx9Upper(j-20) = pressuredistribution9(j,1)-pressuredistribution9(j+1,1);  
end

% red yellow green
ClRed0 = (dx1Upper*pressuredistribution1(21:40,2)) - (dx1Lower*pressuredistribution1(1:20,2));
ClRed8 = (dx4Upper*pressuredistribution4(21:40,2)) - (dx4Lower*pressuredistribution4(1:20,2));
ClRed12 = (dx7Upper*pressuredistribution7(21:40,2)) - (dx7Lower*pressuredistribution7(1:20,2));

ClYellow0 = (dx2Upper*pressuredistribution2(21:40,2)) - (dx1Lower*pressuredistribution2(1:20,2));
ClYellow8 = (dx5Upper*pressuredistribution5(21:40,2)) - (dx4Lower*pressuredistribution5(1:20,2));
ClYellow12 = (dx8Upper*pressuredistribution8(21:40,2)) - (dx7Lower*pressuredistribution8(1:20,2));

ClGreen0 = (dx3Upper*pressuredistribution3(21:40,2)) - (dx1Lower*pressuredistribution3(1:20,2));
ClGreen8 = (dx6Upper*pressuredistribution6(21:40,2)) - (dx4Lower*pressuredistribution6(1:20,2));
ClGreen12 = (dx9Upper*pressuredistribution9(21:40,2)) - (dx7Lower*pressuredistribution9(1:20,2));

figure(4)
plot([0,8,12],[ClRed0,ClRed8,ClRed12],'r');
hold on
plot([0,8,12],[ClYellow0,ClYellow8,ClYellow12],'b');
hold on
plot([0,8,12],[ClGreen0,ClGreen8,ClGreen12],'g');
title("Lift coefficient");
xlabel("AoA")
ylabel("CL");
legend("Red","Yellow","Green")

