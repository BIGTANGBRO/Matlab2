%find the critical mach number
%using iteration

clear
clc

Cpi= input("input the value of Cpi");
%pg relatio
mindiff = 10;
for m = 0.4:0.01:0.95
    cpStar = 2/(1.4*m^2)*(((1+0.2*m^2)/(1+0.2))^(1.4/0.4)-1);
    cpMin = Cpi/sqrt(1-m^2);
    cpMin2=Cpi/(sqrt(1-m^2)+m^2/(1+sqrt(1-m^2)*0.5*Cpi));
    cpMin3=Cpi/(sqrt(1-m^2)+m^2/(2*sqrt(1-m^2)))
    diff = abs(cpMin-cpStar);
    
    if diff < mindiff
        mindiff = diff;
        mcrit = m;
    else
        break;
    end
end
disp(mcrit)